<!-- This lightning web component is used to display the Post created by them in the Patient Community (MyPosts) Page-->
<!-- Strings are hard coded in this HTML file to comply with the mobile responsiveness-->
<template>
	<!-- To display ToastMessage after deleting the post  -->
	<div data-it-uid={userId} class="fulltemplate">
		<template if:true={showDeleteToastMsg}>
			<div class="toastmsg">
				<img src={deleteToast} class="deletetoastimg" />
				<p class="tstmsg">Post Deleted Successfully.</p>
			</div>
			<button class="toastmsgclose" data-it-button="MyPost: Close Toast Msg" title="Close"
				onclick={closeToastMsgForPost}>
				&times;
			</button>
		</template>
		<!-- To display ToastMessage after deleting the Comment  -->
		<template if:true={showDeleteToastMsgforcomment}>
			<div class="toastmsg">
				<img src={deleteToast} class="deletetoastimg" />
				<p class="tstmsg">Comment Deleted Succesfully.</p>
			</div>
			<button class="toastmsgclose" data-it-button="MyPost: Close Toast Msg" title="Close"
				onclick={closeToastMsgForComment}>
				&times;
			</button>
		</template>
		<!-- To display ToastMessage after Follow the User  -->
		<template if:true={showDiv}>
			<div class="toastmsg">
				<img class="deletetoastimg" src={deleteToast} />

				<p class="tstmsg">You Started Following {usename}.</p>
			</div>
			<button class="toastmsgclose" data-it-button="MyPost: Close Toast Msg" title="Close"
				onclick={closetstfollow}>
				&times;
			</button>
		</template>
		<!-- To display ToastMessage after UnFollow the User  -->
		<template if:true={showDivUnfollow}>
			<div class="toastmsg">
				<img class="deletetoastimg" src={deleteToast} />

				<p class="tstmsg">You Unfollowed {usename} Successfully.</p>
			</div>
			<button class="toastmsgclose" data-it-button="MyPost: Close Toast Msg" title="Close"
				onclick={closetstunflw}>
				&times;
			</button>
		</template>
		<!-- This is the whole div includes leftside(avatar image and avatar content) and leftside(Posts)  -->
		<div class="row">
			<div class="leftside">
				<img src={loggedUserAvatar} class="avatarimg" />
				<br />
				<div class="avatarcontent">
					<p class="avatartext">
						This is the patient community forum! Create posts, react and
						comment, connect with others and build a supportive community in
						your health journey.
					</p>
				</div>
			</div>
			<!-- This line is for mobile responsiveness based on the figma -->
			<hr class="forMblresponse">

			<div class="rightside">
				<!-- To display ToastMessage after deleting the post only for mobile responsiveness -->
				<template if:true={showDeleteToastMsg}>
					<div class="toastmsgformobile">
						<img src={deleteToast} class="deletetoastimg" />
						<p data-scroll-target class="tstmsg">Post Deleted Successfully.</p>
					</div>
					<button class="toastmsgcloseforMbl" data-it-button="MyPost: Close Toast Msg" title="Close"
						onclick={closetoastmsg}>
						&times;
					</button>
				</template>
				<!-- To display ToastMessage after deleting the Comment only for mobile responsiveness -->
				<template if:true={showDeleteToastMsgforcomment}>
					<div class="toastmsgformobile">
						<img src={deleteToast} class="deletetoastimg" />
						<p class="tstmsg">Comment Deleted Succesfully.</p>
					</div>
					<button class="toastmsgcloseforMbl" data-it-button="MyPost: Close Toast Msg" title="Close"
						onclick={closetoastmsg}>
						&times;
					</button>
				</template>
				<!-- To display ToastMessage after follow the User only for mobile responsiveness -->
				<template if:true={showDiv}>
					<div class="toastmsgformobile">
						<img class="deletetoastimg" src={deleteToast} />
						<p class="tstmsg">You Started Following {usename}.</p>
					</div>
					<button class="toastmsgcloseforMbl" data-it-button="MyPost: Close Toast Msg" title="Close"
						onclick={closetstfollow}>
						&times;
					</button>
				</template>
				<!-- To display ToastMessage after Unfollow the User only for mobile responsiveness -->
				<template if:true={showDivUnfollow}>
					<div class="toastmsgformobile">
						<img class="deletetoastimg" src={deleteToast} />
						<p class="tstmsg">You Unfollowed {usename} Successfully.</p>
					</div>
					<button class="toastmsgcloseforMbl" data-it-button="MyPost: Close Toast Msg" title="Close"
						onclick={closetstunflw}>
						&times;
					</button>
				</template>
				<!-- Mypost Title and Create Post button -->
				<p data-scroll-target class="mypost">My Posts</p>
				<button class="mypostbtn" data-it-button="MyPost: Create New Post" onclick={goToCreatepost}>
					Create New Post
				</button>

				<br />
				<!-- if the User haven't created a post yet (post created by the user is 0) display this content -->
				<template if:false={showPostDetails}>
					<div class="allpostNone">
						<img src={allpostImg} class="postimage" />
						<p class="mypostmsg">
							Welcome to the patient community forum!. You haven't posted
							anything yet, but we'd love to hear from you! You can share your
							experiences and connect with other patients.
							<br />
						</p>
						<br />
						<br />
						<br />
						<br />
					</div>
					<br />
				</template>
				<!-- To display all the posts created by the user -->
				<template if:true={showPostDetails}>
					<template for:each={postDetails} for:item="post">
						<div key={post.Id} class={post.Id}>
							<div class="postcontainer">
								<div class="post-header">
									<p class="category">
										<!-- Title of the post  -->
										{post.BI_PSP_Category__c}
										<span>
											<!-- Delete Icon to delete a post -->
											<button class="open-new-popup-button" data-custom-feeditem-id={post.Id}
												onclick={openNewPopup} data-it-button="MyPost: Delete Post">
												<img src={deleteImg} class="delete" />
											</button>
										</span>
									</p>
									<br />
									<!-- if the user click delete icon, show the popup for confirmation -->
									<div class={newPopupClass}>
										<div class="new-popup-content">
											<div class="content">
												<div class="times" title="Close"
													data-it-button="MyPost: Close Delete Post Popup"
													onclick={closeNewPopup}>
													X
												</div>
												<h1 class="heading">Delete Post?</h1>
												<br />
												<p class="paragh">
													Are you sure you want to delete this post?
												</p>
												<br />
												<div class="newpopupbtndiv">
													<button class="cancelbtn" data-it-button="MyPost: Delete Post - No"
														onclick={closeNewPopup}>
														No
													</button>
													<button class="submitbtn" data-it-button="MyPost: Delete Post - Yes"
														data-custom-feeditem-id={post.Id} onclick={handleDeletePost}>
														Yes
													</button>
												</div>
												<br />
											</div>
										</div>
									</div>
									<img src={loggedUserAvatar} class="useravatarimg" /> <!-- User avatar -->
									<p class="username">You</p>
									<br />
									<!-- Date when the Post was created -->
									<p class="time">{post.formattedTimeDifference}</p>
								</div>
								<br />
								<p class="postbody">{post.BI_PSP_Phrase__c}</p>
								<br />
								<!-- View Reaction button with total reaction count if the User clicks, it will show username of whoever reacted to the post -->
								<p data-custom-feeditem-id={post.Id} onclick={viewReaction}
									data-it-button="MyPost: ViewReaction" class="totalreaction">
									{post.countEmoji} Reactions
								</p>
								<!-- Total Comment Count of the Post if the user clicks ,it shows the comments -->
								<span class="totalcomment" data-custom-feeditem-title={post.BI_PSP_Category__c}
									data-custom-feeditem-body={post.BI_PSP_Phrase__c} data-custom-feeditem-id={post.Id}
									onclick={commentbtn} data-it-button="MyPost: Show Comments">{post.displayHide}
									{post.commentCount} Comments
								</span>
								<hr class="line" />
								<!-- This popup is used to display the Usernames,whoever reacted to the post with specific emojis -->
								<template if:true={post.secondPopupClass}>
									<div class={post.secondPopupClass}>
										<!-- Background blur -->
										<div class="popupbgblur">
											<!-- White Box Popup  -->
											<div class="popup-content second-popup">
												<!-- Close Icon for close the Reaction Popup -->
												<div onclick={closeSecondPopup}
													data-it-button="MyPost: Close ViewReaction" class="timesemojidiv">
													<div class="timesemoji" title="Close" onclick={closeSecondPopup}
														data-it-button="MyPost: Close ViewReaction">
														X
													</div>
												</div>
												<h1 class="reactiontext">Reactions</h1>
												<br />
												<!-- All Emoji Button if the User click the emoji , it shows the Username who reacted to that post -->
												<div class="mypostemoji-buttons">
													<br />
													<div class="emoji-button" onclick={showTemplatethumbsup}>
														<img src={imgThumbs} class="viewreactionthumbsimg" />
														<p class={emojitext} onclick={showTemplatethumbsup}
															data-emoji="thumbsup"
															data-it-button="MyPost:  ViewReaction - ThumbsUp">
															Thumbs up
														</p>
													</div>
													<br />
													<div class="emoji-button" onclick={showTemplatesmile}>
														<img src={imgSmile} class="viewreactionsmileimg" />
														<p class={emojitext1} onclick={showTemplatesmile}
															data-emoji="smile"
															data-it-button="MyPost:  ViewReaction - Smile">
															Smile
														</p>
													</div>

													<div class="emoji-button" onclick={showTemplatefoldedhands}>
														<img src={imgHands} class="viewreactionhandsfoldedimg" />
														<p class={emojitext2} onclick={showTemplatefoldedhands}
															data-emoji="foldedhands"
															data-it-button="MyPost:  ViewReaction - Hands Folded">
															Hands Folded
														</p>
													</div>
													<br />
													<div class="emoji-button" onclick={showTemplateheart}>
														<img src={imgLike} />
														<p class={emojitext3} onclick={showTemplateheart}
															data-emoji="heart"
															data-it-button="MyPost:  ViewReaction - Heart">
															Heart
														</p>
													</div>
													<div class="emoji-button" onclick={showTemplatethinkingface}>
														<img src={imgThought} class="viewreactionthoughtimg" />
														<p class={emojitext4} onclick={showTemplatethinkingface}
															data-emoji="thinkingface"
															data-it-button="MyPost:  ViewReaction - Thoughtful">
															Thoughtful
														</p>
													</div>
												</div>
												<!-- If there is no reaction for that Emoji show this template -->
												<div class="reactedusers">
													<template if:true={noreactionforthisemoji}>
														<img src={noComment} class="NoCommentImage" />
														<p class="noreacteduser">No reactions yet!</p>
														<br />
														<br />
													</template>
													<!-- If there are users reacted to the post with that Emoji -->
													<template if:true={displayTemplatethumbsup}>
														<template for:each={getthumbsup} for:item="thumbsup">
															<div key={thumbsup.Id}>
																<div class="avatarImgandReactedUser"
																	data-it-button="MyPost:  ViewReaction Profile(Avatar) - ThumbsUp">
																	<img src={thumbsup.avatarDataforreaction}
																		class="emojiprofile" onclick={follorunfollemoji}
																		data-accid={thumbsup.BI_PSP_AccountE__c}
																		data-name={thumbsup.BI_PSP_AccountE__r.BI_PSP_CommunityUsername__c}
																		data-avat={thumbsup.avatarDataforreaction} />
																	<p class="emojiusername" onclick={follorunfollemoji}
																		data-accid={thumbsup.BI_PSP_AccountE__c}
																		data-name={thumbsup.BI_PSP_AccountE__r.BI_PSP_CommunityUsername__c}
																		data-avat={thumbsup.avatarDataforreaction}
																		data-it-button="MyPost:  ViewReaction Profile(Username) - ThumbsUp">
																		{thumbsup.reactionyouname}
																	</p>
																	<hr class="lineforreactcount" />
																</div>
															</div>
														</template>
														<template if:true={emojiFollowProfile}>
															<div class="back">
																<div class="follow-popup-container">
																	<p class="emojiprofile1">Profile</p>
																	<span onclick={emojiclosePopup} class="times3"
																		data-it-button="MyPost: Follow/Unfollow Close ">&times;</span>

																	<img src={avtvarfor} class="emojipopavatar" />
																	<p class="username123">{usename}</p>
																	<button class="popupbutton"
																		onclick={emojiFollowPopupButtonClick}
																		data-it-button="MyPost: Reaction Follow ">
																		Follow
																	</button>
																</div>
															</div>
														</template>
														<!-- Show the Popup if the user click the Username /Avatar of other Users -->
														<template if:true={emojifollowpopup}>
															<div class="back">
																<div class="follow-popup-container">
																	<span onclick={emojiclosePopup} class="times2"
																		data-it-button="MyPost:  Follow Close">&times;</span>
																	<p class="emojipopuptitle">Follow User?</p>

																	<p class="emojipopupcontent">
																		Are you sure you want to follow
																		{usename}?<br /><br />
																		You'll now receive notifications whenever
																		this user creates a <br />new post. You can
																		always change your notification
																		<br />preferences in your profile settings.
																	</p>
																	<button class="followno" onclick={emojiclosePopup}
																		data-it-button="MyPost:  Follow-No">
																		No
																	</button>
																	<button class="followyes" onclick={emojiFollowyes}
																		data-it-button="MyPost:  Follow-Yes">
																		Yes
																	</button>
																</div>
															</div>
														</template>

														<template if:true={emojifollowing}>
															<div class="back">
																<div class="follow-popup-container">
																	<p class="emojiprofile1">Profile</p>
																	<span onclick={emojiclosePopup} class="times3"
																		data-it-button="MyPost:  Follow Close">&times;</span>

																	<img src={avtvarfor} class="emojipopavatar" />
																	<p class="username123">{usename}</p>
																	<button class="popupbuttonfollowing"
																		onclick={emojiFollowingPopupButtonClick}
																		data-it-button="MyPost: UnFollow">
																		Following
																	</button>
																</div>
															</div>
														</template>
														<template if:true={emojifollowingpopup}>
															<div class="back">
																<div class="follow-popup-container">
																	<span onclick={emojiclosePopup}
																		class="times2unfollow"
																		data-it-button="MyPost:  UnFollow Close">&times;</span>
																	<p class="emojifollowingpopuptitleunfollow">
																		Unfollow User?<br />
																	</p>
																	<p class="emojipopupcontentemojiunfollow">
																		Are you sure you want to unfollow
																		{username}?<br /><br />
																		You'll no longer receive notifications
																		whenever this user <br />
																		creates a new post.
																	</p>
																	<button class="followno" onclick={emojiclosePopup}
																		data-it-button="MyPost:  UnFollow-Yes">
																		No
																	</button>
																	<button class="followyes"
																		onclick={emojiUnFollowingyes}
																		data-it-button="MyPost:  UnFollow-Yes">
																		Yes
																	</button>
																</div>
															</div>
														</template>
													</template>
													<template if:true={displayTemplatesmile}>
														<template for:each={getsmile} for:item="smile">
															<div key={smile.Id}>
																<div class="avatarImgandReactedUser">
																	<img src={smile.avatarDataforreaction}
																		class="emojiprofile" onclick={follorunfollemoji}
																		data-accid={smile.BI_PSP_AccountE__c}
																		data-name={smile.BI_PSP_AccountE__r.BI_PSP_CommunityUsername__c}
																		data-avat={smile.avatarDataforreaction}
																		data-it-button="MyPost:  ViewReaction Profile(Avatar) - Smile" />
																	<p class="emojiusername" onclick={follorunfollemoji}
																		data-accid={smile.BI_PSP_AccountE__c}
																		data-name={smile.BI_PSP_AccountE__r.BI_PSP_CommunityUsername__c}
																		data-avat={smile.avatarDataforreaction}
																		data-it-button="MyPost:  ViewReaction Profile(Username) - Smile">
																		{smile.reactionyouname}
																	</p>
																	<hr class="lineforreactcount" />
																</div>
																<template if:true={emojiFollowProfile}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<p class="emojiprofile1">Profile</p>
																			<span onclick={emojiclosePopup}
																				class="times3">&times;</span>
																			<div class="profilediv">
																				<img src={avtvarfor}
																					class="emojipopavatar" />
																				<p class="username123">{usename}</p>
																			</div>
																			<button class="popupbutton"
																				onclick={emojiFollowPopupButtonClick}
																				data-it-button="MyPost:  Follow">
																				Follow
																			</button>
																		</div>
																	</div>
																</template>
																<template if:true={emojifollowpopup}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<span onclick={emojiclosePopup}
																				class="times2"
																				data-it-button="MyPost:Follow Close">&times;</span>
																			<p class="emojipopuptitle">
																				Follow User?<br />
																			</p>
																			<p class="emojipopupcontent">
																				Are you sure you want to follow
																				{usename}?<br /><br />
																				You'll now receive notifications
																				whenever this user creates a <br />new
																				post. You can always change your
																				notification <br />preferences in your
																				profile settings.
																			</p>
																			<button class="followno"
																				onclick={emojiclosePopup}
																				data-it-button="MyPost:  Follow-Yes">
																				No
																			</button>
																			<button class="followyes"
																				onclick={emojiFollowyes}
																				data-it-button="MyPost:  Follow-No">
																				Yes
																			</button>
																		</div>
																	</div>
																</template>
																<template if:true={emojifollowing}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<p class="emojiprofile1">Profile</p>
																			<span onclick={emojiclosePopup}
																				class="times3">&times;</span>
																			<div class="profilediv">
																				<img src={avtvarfor}
																					class="emojipopavatar" />
																				<p class="username123">{usename}</p>
																			</div>
																			<button class="popupbuttonfollowing"
																				onclick={emojiFollowingPopupButtonClick}
																				data-it-button="MyPost:  UnFollow">
																				Following
																			</button>
																		</div>
																	</div>
																</template>
																<template if:true={emojifollowingpopup}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<span onclick={emojiclosePopup}
																				class="times2unfollow"
																				data-it-button="MyPost:  Follow Close">&times;</span>
																			<p class="emojifollowingpopuptitleunfollow">
																				Unfollow User?<br />
																			</p>
																			<p class="emojipopupcontentemojiunfollow">
																				Are you sure you want to unfollow
																				{username}?<br /><br />
																				You'll no longer receive notifications
																				whenever this user <br />
																				creates a new post.
																			</p>
																			<button class="followno"
																				onclick={emojiclosePopup}
																				data-it-button="MyPost:  UnFollow-Yes">
																				No
																			</button>
																			<button class="followyes"
																				onclick={emojiUnFollowingyes}
																				data-it-button="MyPost:  UnFollow-Yes">
																				Yes
																			</button>
																		</div>
																	</div>
																</template>
															</div>
														</template>
													</template>
													<template if:true={displayTemplatefoldedhands}>
														<template for:each={getfoldedhands} for:item="foldedhands">
															<div key={foldedhands.Id}>
																<div class="avatarImgandReactedUser">
																	<img src={foldedhands.avatarDataforreaction}
																		class="emojiprofile" onclick={follorunfollemoji}
																		data-accid={foldedhands.BI_PSP_AccountE__c}
																		data-name={foldedhands.BI_PSP_AccountE__r.BI_PSP_CommunityUsername__c}
																		data-avat={foldedhands.avatarDataforreaction}
																		data-it-button="MyPost:  ViewReaction Profile(Avatar) - Hands Folded" />
																	<p class="emojiusername" onclick={follorunfollemoji}
																		data-accid={foldedhands.BI_PSP_AccountE__c}
																		data-name={foldedhands.BI_PSP_AccountE__r.BI_PSP_CommunityUsername__c}
																		data-avat={foldedhands.avatarDataforreaction}
																		data-it-button="MyPost:  ViewReaction Profile(Username) - Hands Folded">
																		{foldedhands.reactionyouname}
																	</p>
																	<hr class="lineforreactcount" />
																</div>
																<template if:true={emojiFollowProfile}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<p class="emojiprofile1">Profile</p>
																			<span onclick={emojiclosePopup}
																				class="times3">&times;</span>
																			<img src={avtvarfor}
																				class="emojipopavatar" />
																			<p class="username123">{usename}</p>
																			<button class="popupbutton"
																				onclick={emojiFollowPopupButtonClick}
																				data-it-button="MyPost:  Follow">
																				Follow
																			</button>
																		</div>
																	</div>
																</template>
																<template if:true={emojifollowpopup}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<span onclick={emojiclosePopup}
																				class="times2">&times;</span>
																			<p class="emojipopuptitle">
																				Follow User?<br />
																			</p>
																			<p class="emojipopupcontent">
																				Are you sure you want to follow
																				{usename}?<br /><br />
																				You'll now receive notifications
																				whenever this user creates a <br />new
																				post. You can always change your
																				notification <br />preferences in your
																				profile settings.
																			</p>
																			<button class="followno"
																				onclick={emojiclosePopup}
																				data-it-button="MyPost:  Follow-No">
																				No
																			</button>
																			<button class="followyes"
																				onclick={emojiFollowyes}
																				data-it-button="MyPost:  Follow-Yes">
																				Yes
																			</button>
																		</div>
																	</div>
																</template>
																<template if:true={emojifollowing}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<p class="emojiprofile1">Profile</p>
																			<span onclick={emojiclosePopup}
																				class="times3">&times;</span>
																			<img src={avtvarfor}
																				class="emojipopavatar" />
																			<p class="username123">{usename}</p>
																			<button class="popupbuttonfollowing"
																				onclick={emojiFollowingPopupButtonClick}
																				data-it-button="MyPost:  UnFollow">
																				Following
																			</button>
																		</div>
																	</div>
																</template>
																<template if:true={emojifollowingpopup}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<span onclick={emojiclosePopup}
																				class="times2unfollow">&times;</span>
																			<p class="emojifollowingpopuptitleunfollow">
																				Unfollow User?<br />
																			</p>
																			<p class="emojipopupcontentemojiunfollow">
																				Are you sure you want to unfollow
																				{username}?<br /><br />
																				You'll no longer receive notifications
																				whenever this user <br />
																				creates a new post.
																			</p>
																			<button class="followno"
																				onclick={emojiclosePopup}
																				data-it-button="MyPost:  UnFollow-Yes">
																				No
																			</button>
																			<button class="followyes"
																				onclick={emojiUnFollowingyes}
																				data-it-button="MyPost:  UnFollow-Yes">
																				Yes
																			</button>
																		</div>
																	</div>
																</template>
															</div>
														</template>
													</template>
													<template if:true={displayTemplateheart}>
														<template for:each={getheart} for:item="heart">
															<div key={heart.Id} class="avatarImgandReactedUsercompress">
																<div class="avatarImgandReactedUser">
																	<img src={heart.avatarDataforreaction}
																		class="emojiprofile" onclick={follorunfollemoji}
																		data-accid={heart.BI_PSP_AccountE__c}
																		data-name={heart.BI_PSP_AccountE__r.BI_PSP_CommunityUsername__c}
																		data-avat={heart.avatarDataforreaction}
																		data-it-button="MyPost:  ViewReaction Profile(Avatar) - Heart" />
																	<p class="emojiusername" onclick={follorunfollemoji}
																		data-accid={heart.BI_PSP_AccountE__c}
																		data-name={heart.BI_PSP_AccountE__r.BI_PSP_CommunityUsername__c}
																		data-avat={heart.avatarDataforreaction}
																		data-it-button="MyPost:  ViewReaction Profile(Username) - Heart">
																		{heart.reactionyouname}
																	</p>
																	<hr class="lineforreactcount" />
																</div>
																<template if:true={emojiFollowProfile}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<p class="emojiprofile1">Profile</p>
																			<span onclick={emojiclosePopup}
																				class="times3">&times;</span>
																			<img src={avtvarfor}
																				class="emojipopavatar" />
																			<p class="username123">{usename}</p>
																			<button class="popupbutton"
																				onclick={emojiFollowPopupButtonClick}
																				data-it-button="MyPost:  Follow">
																				Follow
																			</button>
																		</div>
																	</div>
																</template>
																<template if:true={emojifollowpopup}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<span onclick={emojiclosePopup}
																				class="times2">&times;</span>
																			<p class="emojipopuptitle">
																				Follow User?<br />
																			</p>
																			<p class="emojipopupcontent">
																				Are you sure you want to follow
																				{usename}?<br /><br />
																				You'll now receive notifications
																				whenever this user creates a <br />new
																				post. You can always change your
																				notification <br />preferences in your
																				profile settings.
																			</p>
																			<button class="followno"
																				onclick={emojiclosePopup}
																				data-it-button="MyPost:  Follow-No">
																				No
																			</button>
																			<button class="followyes"
																				onclick={emojiFollowyes}
																				data-it-button="MyPost:  Follow-Yes">
																				Yes
																			</button>
																		</div>
																	</div>
																</template>
																<template if:true={emojifollowing}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<p class="emojiprofile1">Profile</p>
																			<span onclick={emojiclosePopup}
																				class="times3">&times;</span>
																			<img src={avtvarfor}
																				class="emojipopavatar" />
																			<p class="username123">{usename}</p>
																			<button class="popupbuttonfollowing"
																				onclick={emojiFollowingPopupButtonClick}
																				data-it-button="MyPost:  UnFollow">
																				Following
																			</button>
																		</div>
																	</div>
																</template>
																<template if:true={emojifollowingpopup}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<span onclick={emojiclosePopup}
																				class="times2unfollow">&times;</span>
																			<p class="emojifollowingpopuptitleunfollow">
																				Unfollow User?<br />
																			</p>
																			<p class="emojipopupcontentemojiunfollow">
																				Are you sure you want to unfollow
																				{username}?<br /><br />
																				You'll no longer receive notifications
																				whenever this user <br />
																				creates a new post.
																			</p>
																			<button class="followno"
																				onclick={emojiclosePopup}
																				data-it-button="MyPost:  Follow-No">
																				No
																			</button>
																			<button class="followyes"
																				onclick={emojiUnFollowingyes}
																				data-it-button="MyPost:  Follow-Yes">
																				Yes
																			</button>
																		</div>
																	</div>
																</template>
															</div>
														</template>
													</template>
													<template if:true={displayTemplatethinkingface}>
														<template for:each={getthinkingface} for:item="thinkingface">
															<div key={thinkingface.Id}>
																<div class="avatarImgandReactedUser">
																	<img src={thinkingface.avatarDataforreaction}
																		class="emojiprofile" onclick={follorunfollemoji}
																		data-accid={thinkingface.BI_PSP_AccountE__c}
																		data-name={thinkingface.BI_PSP_AccountE__r.BI_PSP_CommunityUsername__c}
																		data-avat={thinkingface.avatarDataforreaction}
																		data-it-button="MyPost:  ViewReaction Profile(Avatar) - ThoughtFul" />
																	<p class="emojiusername" onclick={follorunfollemoji}
																		data-accid={thinkingface.BI_PSP_AccountE__c}
																		data-name={thinkingface.BI_PSP_AccountE__r.BI_PSP_CommunityUsername__c}
																		data-avat={thinkingface.avatarDataforreaction}
																		data-it-button="MyPost:  ViewReaction Profile(Username) - ThoughtFul">
																		{thinkingface.reactionyouname}
																	</p>
																	<hr class="lineforreactcount" />
																</div>
																<template if:true={emojiFollowProfile}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<p class="emojiprofile1">Profile</p>
																			<span onclick={emojiclosePopup}
																				class="times3">&times;</span>
																			<img src={avtvarfor}
																				class="emojipopavatar" />
																			<p class="username123">{usename}</p>
																			<button class="popupbutton"
																				onclick={emojiFollowPopupButtonClick}
																				data-it-button="MyPost:  Follow">
																				Follow
																			</button>
																		</div>
																	</div>
																</template>
																<template if:true={emojifollowpopup}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<span onclick={emojiclosePopup}
																				class="times2">&times;</span>
																			<p class="emojipopuptitle">
																				Follow User?<br />
																			</p>
																			<p class="emojipopupcontent">
																				Are you sure you want to follow
																				{usename}?<br /><br />
																				You'll now receive notifications
																				whenever this user creates a <br />new
																				post. You can always change your
																				notification <br />preferences in your
																				profile settings.
																			</p>
																			<button class="followno"
																				onclick={emojiclosePopup}
																				data-it-button="MyPost:  Follow-No">
																				No
																			</button>
																			<button class="followyes"
																				onclick={emojiFollowyes}
																				data-it-button="MyPost:  Follow-Yes">
																				Yes
																			</button>
																		</div>
																	</div>
																</template>
																<template if:true={emojifollowing}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<p class="emojiprofile1">Profile</p>
																			<span onclick={emojiclosePopup}
																				class="times3">&times;</span>
																			<img src={avtvarfor}
																				class="emojipopavatar" />
																			<p class="username123">{usename}</p>
																			<button class="popupbuttonfollowing"
																				onclick={emojiFollowingPopupButtonClick}
																				data-it-button="MyPost:  UnFollow">
																				Following
																			</button>
																		</div>
																	</div>
																</template>
																<template if:true={emojifollowingpopup}>
																	<div class="back">
																		<div class="follow-popup-container">
																			<span onclick={emojiclosePopup}
																				class="times2unfollow">&times;</span>
																			<p class="emojifollowingpopuptitleunfollow">
																				Unfollow User?<br />
																			</p>
																			<p class="emojipopupcontentemojiunfollow">
																				Are you sure you want to unfollow
																				{username}?<br /><br />
																				You'll no longer receive notifications
																				whenever this user <br />
																				creates a new post.
																			</p>
																			<button class="followno"
																				onclick={emojiclosePopup}
																				data-it-button="MyPost:  UnFollow-No">
																				No
																			</button>
																			<button class="followyes"
																				onclick={emojiUnFollowingyes}
																				data-it-button="MyPost:  UnFollow-Yes">
																				Yes
																			</button>
																		</div>
																	</div>
																</template>
															</div>
														</template>
													</template>
												</div>
											</div>
										</div>
									</div>
								</template>
								<!-- Show the loading after react/unreact for few seconds -->
								<div class="spinner-wrapper" if:true={showSpinner}>
									<div class="loader"></div>
								</div>
								<!-- If the User hasn't react the post show the button with name [React] -->
								<template if:true={post.toReact}>
									<button class="Reactbtn" onclick={ReactionBtn} data-custom-feeditem-id={post.Id}
										data-it-button="MyPost: React ">
										React
									</button>
								</template>
								<!-- If the User already react the post show the button with the Emoji of the reaction -->
								<template if:false={post.toReact}>
									<button class="Reactbtnresult" onclick={unreact} data-custom-feeditem-id={post.Id}
										data-it-button="MyPost: Reacted ">
										<span>{post.emojiYouReacted} &nbsp;<img src={post.emojiReactedImg} width="16px"
												height="16px" class="emojiReactedImg" /></span>
									</button>
								</template>
								<!-- Comment button to show the comments and open the only the clicked button's comment-->
								<button class="commentbtncss" data-custom-feeditem-title={post.BI_PSP_Category__c}
									data-custom-feeditem-body={post.BI_PSP_Phrase__c} data-custom-feeditem-id={post.Id}
									onclick={commentbtn} data-it-button="MyPost: Comment ">
									Comment</button><br />
								<!-- If the user clicks the React Button it shows the popover with Emoji to react For the Post -->
								<template if:true={post.showEmojiPopup}>
									<div class="slds-popover slds-popover_tooltip slds-nubbin_bottom emoji-container">
										<span class="emoji" data-reaction-type="1" data-custom-feeditem-id={post.Id}
											onclick={reactWith}><img src={imgThumbs} class="emojthumbs"
												data-it-button="MyPost: React-ThumbsUp " />
											<div class="emoji-popup">Thumbs Up</div>
										</span>
										<span class="emoji" data-reaction-type="2" data-custom-feeditem-id={post.Id}
											onclick={reactWith}><img src={imgSmile} class="emojsmile"
												data-it-button="MyPost: React-Smile " />
											<div class="emoji-popup1">Smile</div>
										</span>
										<span class="emoji" data-reaction-type="3" data-custom-feeditem-id={post.Id}
											onclick={reactWith}><img src={imgHands} class="emojhands"
												data-it-button="MyPost: React-HandsFolded " />
											<div class="emoji-popup2">Hands Folded</div>
										</span>
										<span class="emoji" data-reaction-type="4" data-custom-feeditem-id={post.Id}
											onclick={reactWith}><img src={imgLike} class="emojheart"
												data-it-button="MyPost: React-Heart " />
											<div class="emoji-popup3">Heart</div>
										</span>
										<span class="emoji" data-reaction-type="5" data-custom-feeditem-id={post.Id}
											onclick={reactWith}><img src={imgThought} class="emojthinks"
												data-it-button="MyPost: React-ThoughtFul " />
											<div class="emoji-popup4">Thoughtful</div>
										</span>
									</div>
								</template>
								<!-- This contains comment Box that includes(comment dropdown,Users whoever commented on the post) -->
								<template if:true={post.commentBox}>
									<div class="commentdiv">
										<p class="CommentContent">Comments</p>
										<p class="selectcomenttext">Select Comment</p>
										<div class="imgandbox">
											<img src={loggedUserAvatar} class="commentimage" />
											<!-- Dropdown comments based on the category and Phrase -->
											<select onchange={handleCommentChange} class="dropdowncomments"
												data-custom-feeditem-title={post.BI_PSP_Category__c}
												data-custom-feeditem-body={post.BI_PSP_Phrase__c}
												data-custom-feeditem-id={post.Id}>
												<!-- Set the First Option as disabled so that we can display it as "Select" otherwise it'll be the First Option by default -->
												<option value="" disabled selected hidden>
													Select
												</option>
												<template for:each={commentoption} for:item="option">
													<option key={option.value} value={option.value}>
														{option.label}
													</option>
													<hr key={option.value} />
												</template>
											</select>
										</div>
										<br /><br />
										<!-- If there is no comments display this NO comment content-->
										<template if:false={getComments}>
											<div class="noCommentContainer">
												<img src={noComment} class="NoCommentImagecomment" />
												<p class="noCommentTxt">No Comments Yet!</p>
											</div>
										</template>
										<!-- If there is Comments disaplay the Username,date when the comment created and the body of the comment -->
										<template if:true={getComments}>
											<template for:each={displaycomment} for:item="commentitem">
												<div key={commentitem.Id} data-comment-id={commentitem.Id}>
													<div class="CommentContainer">
														<div class="oneCommentContainer">
															<template if:true={commentitem.isCurrentUserCommentCreator}>
																<button class="threedotbtn" onclick={threedotopen}
																	data-it-button="MyPost: Open Threedot Popup-(Mbl View) "
																	data-custom-feeditem-id={commentitem.Id}>
																	&#8942;
																</button>
															</template>
															<div class="commentavttobody">
																<img src={commentitem.avatarDataforcomment}
																	class="commentimageforinside"
																	onclick={follorunfollemoji}
																	data-accid={commentitem.BI_PSP_AccountCmt__c}
																	data-name={commentitem.BI_PSP_AccountCmt__r.BI_PSP_CommunityUsername__c}
																	data-avat={commentitem.avatarDataforcomment}
																	data-it-button="MyPost: Follow Popup(Avatar) " />
																<p class="commentUserName" onclick={follorunfollemoji}
																	data-accid={commentitem.BI_PSP_AccountCmt__c}
																	data-name={commentitem.BI_PSP_AccountCmt__r.BI_PSP_CommunityUsername__c}
																	data-avat={commentitem.avatarDataforcomment}
																	data-it-button="MyPost: Follow Popup(Username) ">
																	{commentitem.youname}
																</p>
																<p class="commenttime">
																	{commentitem.formattedTimeDifferenceforcomment}
																</p>
																<p data-scroll-target="opened-comment-box"
																	class="commentBody">
																	{commentitem.BI_PSP_Comment__c}
																</p>
															</div>
															<!-- if the User click the username/avatar of another user it show the profile popup of the clicked user -->
															<template if:true={emojiFollowProfile}>
																<div class="backcomment">
																	<div class="follow-popup-container">
																		<p class="emojiprofile1">Profile</p>
																		<span onclick={emojiclosePopup}
																			class="times3followcmt">&times;</span>
																		<div class="flexclassavatar">
																			<img src={avtvarfor}
																				class="cmntpopavatar" />
																			<p class="username123followcmt">
																				{usename}
																			</p>
																		</div>
																		<button class="popupbutton"
																			onclick={emojiFollowPopupButtonClick}>
																			Follow
																		</button>
																	</div>
																</div>
															</template>
															<template if:true={emojifollowpopup}>
																<div class="backcomment">
																	<div class="follow-popup-container">
																		<span onclick={emojiclosePopup}
																			class="times2followcmt">&times;</span>
																		<p class="commentpopuptitle">
																			Follow User?<br />
																		</p>
																		<p class="emojipopupcontentcmtfollow">
																			Are you sure you want to follow
																			{usename}?<br /><br />
																			You'll now receive notifications whenever
																			this user creates a <br />new post. You
																			can always change your notification
																			<br />preferences in your profile
																			settings.
																		</p>
																		<div class="followcmtflex">
																			<button class="follownocmtfollow"
																				onclick={emojiclosePopup}
																				data-it-button="MyPost:  Follow-No">
																				No
																			</button>
																			<button class="followyescmtfollow"
																				onclick={emojiFollowyes}
																				data-it-button="MyPost:  Follow-Yes">
																				Yes
																			</button>
																		</div>
																	</div>
																</div>
															</template>
															<template if:true={emojifollowing}>
																<div class="backcomment">
																	<div class="follow-popup-container">
																		<p class="emojiprofile1">Profile</p>
																		<span onclick={emojiclosePopup}
																			class="times3unfollowcmt"
																			data-it-button="MyPost:  Follow Close">&times;</span>
																		<div class="flexclassavatar">
																			<img src={avtvarfor}
																				class="cmntpopavatar" />
																			<p class="username123unfollowcmt">
																				{usename}
																			</p>
																		</div>
																		<button class="popupbuttonfollowingcomment"
																			onclick={emojiFollowingPopupButtonClick}
																			data-it-button="MyPost:  UnFollow ">
																			Following
																		</button>
																	</div>
																</div>
															</template>
															<!-- To display Unfollow popup -->
															<template if:true={emojifollowingpopup}>
																<div class="backcomment">
																	<div class="follow-popup-container">
																		<span onclick={emojiclosePopup}
																			class="times2unfollowcmt">&times;</span>
																		<p class="emojifollowingpopuptitlecomment">
																			Unfollow User?<br />
																		</p>
																		<p class="emojipopupcontentcmtunfollow">
																			Are you sure you want to unfollow
																			{username}?<br /><br />
																			You'll no longer receive notifications
																			whenever this user <br />
																			creates a new post.
																		</p>
																		<div class="unfollowcmtflex">
																			<button class="follownocmtunfollow"
																				onclick={emojiclosePopup}
																				data-it-button="MyPost:  Follow-No">
																				No
																			</button>
																			<button class="followyescmtunfollow"
																				onclick={emojiUnFollowingyes}
																				data-it-button="MyPost:  Follow-Yes">
																				Yes
																			</button>
																		</div>
																	</div>
																</div>
															</template>
															<!-- Display the Edit and delete Icon ,if the Comment Created by the User themself -->
															<template if:true={commentitem.isCurrentUserCommentCreator}>
																<div if:true={commentitem.showeditthecomment}
																	onclick={closeshoweditthecomment}
																	class="showeditthecommentcompress"
																	data-it-button="MyPost: Close EditCommenr ">
																	<span class="closeshoweditthecomment" title="Close"
																		onclick={closeshoweditthecomment}
																		data-it-button="MyPost: Close EditCommenr ">
																		&times;
																	</span>
																</div>
																<div class="editanddelete">
																	<!-- edit image -->
																	<img src={editImg}
																		data-custom-feeditem-id={commentitem.Id}
																		onclick={editTheComment} class="editCmt"
																		data-it-button="MyPost: Open EditComment" />

																	<img src={deleteImg}
																		data-custom-feeditem-id={commentitem.Id}
																		data-custom-postitem-id={commentitem.BI_PSP_FeedItem__c}
																		onclick={openFirstPopup}
																		data-it-button="MyPost: Open Delete popup "
																		class="deletecomment" />
																</div>
																<!-- This is the three dot after clicking it shows edit and delete icon for MObile Responsiveness -->
																<template if:true={commentitem.threedotclass}>
																	<div class={threedotclass}
																		data-commentid={commentitem.id}>
																		<div class="threedotblurbg">
																			<div class="threedot-content">
																				<span class="threedotclose"
																					title="Close"
																					onclick={closethreedot}
																					data-it-button="MyPost: Close Threedot Popup(Mbl View) ">
																					&times;
																				</span>
																				<!-- Action Popup(Edit and delete Icon) -->
																				<p class="action">Action</p>
																				<br />
																				<div class="editanddeletethreedots">
																					<button class="editthreedots"
																						data-custom-feeditem-id={commentitem.Id}
																						onclick={editTheComment}
																						data-it-button="MyPost: Show Edit Comment ">
																						<img src={editImg}
																							onclick={editTheComment}
																							data-it-button="MyPost: Show Edit Comment "
																							class="edit" />Edit Commment
																					</button>
																					<br />
																					<br />
																					<button class="deletethreedots"
																						data-custom-feeditem-id={commentitem.Id}
																						data-custom-postitem-id={commentitem.BI_PSP_FeedItem__c}
																						onclick={openFirstPopup}
																						data-it-button="MyPost: Open Delete Comment Popup">
																						<img src={deleteImg}
																							class="deletecomment" />&emsp;
																						Delete Comment
																					</button>
																					<br />
																				</div>
																				<br />
																			</div>
																		</div>
																	</div>
																</template>
															</template>
															<!-- Dropdown for EDIT COMMENTS -->
															<template if:true={commentitem.showeditthecomment}>
																<span class="closeshoweditthecommentthreedot"
																	title="Close" onclick={closeshoweditthecomment}
																	data-it-button="MyPost: Close Edit Comment ">
																	&times;
																</span>

																<label for="Edit The Comment"
																	class={editTheCommentTxt}>Edit The Comment</label>
																<select onchange={handleCommentChangeedit}
																	class="editdropdowncomments"
																	title="Edit The Comment"
																	data-custom-feeditem-title={post.BI_PSP_Category__c}
																	data-custom-feeditem-body={post.BI_PSP_Phrase__c}
																	data-custom-feeditem-id={post.Id}
																	data-it-button="mypost: Edit Dropdown">
																	<option value="" disabled selected hidden>
																		Select
																	</option>
																	<template for:each={commentoption}
																		for:item="option">
																		<option key={option.value} value={option.value}>
																			{option.label}
																		</option>
																		<hr key={option.value} />
																	</template>
																</select>
															</template>
															<hr class="lineforcomment" />
															<!-- Delete confirmation popup -->
															<div class={firstPopupClass}>
																<div class="popup-content">
																	<div class="content">
																		<span class="times" title="Close"
																			onclick={closeFirstPopup}
																			data-it-button="MyPost: Delete Comment Confirmation ">
																			&times;
																		</span>
																		<h1 class="heading">Delete Comment?</h1>
																		<p class="paragh">
																			Are you sure you want to delete this
																			comment?
																		</p>
																		<br />
																		<div class="newpopupbtndivforcomment">
																			<button class="cancelbtn"
																				onclick={closeFirstPopup}
																				data-it-button="MyPost: Delete Comment No ">
																				No
																			</button>
																			<button class="submitbtn"
																				data-custom-feeditem-id={commentitem.Id}
																				onclick={handledelete}
																				data-it-button="MyPost: Delete Comment Yes ">
																				Yes
																			</button>
																			<br />
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
												</div>
											</template>
										</template>
									</div>
								</template>
								<br /><br />
							</div>
							<br />
						</div>
					</template>
				</template>
			</div>
		</div>
	</div>
	<!-- Loadig spinner if there is any delay for getting mypost -->
	<div if:true={isLoading}>
		<lightning-spinner alternative-text="Loading" class="spinner-container"></lightning-spinner>
	</div>
</template>